(this["webpackJsonprest-countries-api"]=this["webpackJsonprest-countries-api"]||[]).push([[0],{26:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(18),i=n.n(r),s=n(12),o=n(10),l=n.n(o),j=n(13),d=n(7),u=(n(26),n(8)),b=n(2),O=n(0);function p(e){var t=e.darkmodeHandler;return Object(O.jsx)("header",{children:Object(O.jsxs)("div",{className:"header-container",children:[Object(O.jsx)(u.b,{to:"/",children:Object(O.jsx)("div",{className:"header-title",children:"Where in the world?"})}),Object(O.jsxs)("div",{className:"dark-mode-btn",onClick:t,children:[Object(O.jsx)("span",{className:"material-icons",children:"dark_mode"}),"Dark Mode"]})]})})}function h(e){var t=e.flagURL,n=e.code,c=e.name,a=e.population,r=e.region,i=e.capital;return Object(O.jsx)(u.b,{to:"/country-detail/".concat(n),children:Object(O.jsxs)("div",{className:"country-card",children:[Object(O.jsx)("img",{src:t,alt:"Flag of ".concat(c)}),Object(O.jsxs)("div",{className:"country-card-detail",children:[Object(O.jsx)("div",{children:c}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"Population: "}),a.toLocaleString()]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"Region: "}),r]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"Capital: "}),i]})]})]})})}function x(){return Object(O.jsx)("div",{children:"Loading..."})}function f(e){var t=e.inputText,n=e.inputTextHandler,c=e.clearInputTextHandler,a=e.filterOptionHandler;return Object(O.jsxs)("div",{className:"search-and-filter",children:[Object(O.jsxs)("div",{className:"search",children:[Object(O.jsx)("span",{className:"material-icons",children:"search"}),Object(O.jsx)("input",{type:"text",placeholder:"Search for a country",value:t,onChange:n}),t?Object(O.jsx)("span",{class:"material-icons clear-input-btn",onClick:c,children:"cancel"}):""]}),Object(O.jsx)("div",{children:Object(O.jsxs)("select",{name:"region-filter",id:"region-filter",defaultValue:"All",onChange:a,children:[Object(O.jsx)("option",{value:"All",children:"All regions"}),Object(O.jsx)("option",{value:"Africa",children:"Africa"}),Object(O.jsx)("option",{value:"Americas",children:"Americas"}),Object(O.jsx)("option",{value:"Asia",children:"Asia"}),Object(O.jsx)("option",{value:"Europe",children:"Europe"}),Object(O.jsx)("option",{value:"Oceania",children:"Oceania"})]})})]})}function m(){return Object(O.jsxs)("div",{className:"attribution",children:["Challenge by"," ",Object(O.jsx)("a",{href:"https://www.frontendmentor.io?ref=challenge",target:"_blank",rel:"noopener noreferrer",children:"Frontend Mentor"}),". Coded by"," ",Object(O.jsx)("a",{href:"https://github.com/quanmtran",target:"_blank",rel:"noopener noreferrer",children:"Quan Tran"}),"."]})}var v=function(e){var t=e.countries,n=e.loading,c=e.inputText,a=e.inputTextHandler,r=e.clearInputTextHandler,i=e.filterOptionHandler;return Object(O.jsxs)("div",{className:"home",children:[Object(O.jsx)(f,{inputText:c,inputTextHandler:a,clearInputTextHandler:r,filterOptionHandler:i}),Object(O.jsx)("div",{className:"country-cards",children:n?Object(O.jsx)(x,{}):t.map((function(e){return Object(O.jsx)(h,{code:e.alpha3Code,flagURL:e.flags.svg,name:e.name,population:e.population,region:e.region,capital:e.capital},e.alpha3Code)}))}),Object(O.jsx)(m,{})]})};function g(e){var t=e.countryCode,n=e.countryCodeAndName;return Object(O.jsx)(u.b,{to:"/country-detail/".concat(t),children:Object(O.jsx)("div",{className:"border-country-btn",children:n[t]})})}var N=function(e){var t=e.match,n=e.countryCodeAndName,a=t.params.code,r=Object(c.useState)({flag:"",name:"",nativeName:"",population:0,region:"",subregion:"",capital:"",topLevelDomain:[],currencies:[],languages:[],borders:[]}),i=Object(d.a)(r,2),s=i[0],o=i[1],b=Object(c.useState)(!0),p=Object(d.a)(b,2),h=p[0],f=p[1],m=function(){var e=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,fetch("https://restcountries.com/v2/alpha/".concat(a,"?fields=flag,name,nativeName,population,region,subregion,capital,topLevelDomain,currencies,languages,borders"));case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,o(n),f(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){m()}),[a]),Object(O.jsxs)("div",{className:"country-detail-container",children:[Object(O.jsx)("div",{className:"back-to-home-btn",children:Object(O.jsxs)(u.b,{to:"/",children:[Object(O.jsx)("span",{className:"material-icons",children:"arrow_back"}),"Back"]})}),h?Object(O.jsx)(x,{}):Object(O.jsxs)("div",{className:"country-detail",children:[Object(O.jsx)("img",{src:s.flag,alt:"Flag of ".concat(s.name)}),Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{children:s.name}),Object(O.jsxs)("div",{className:"country-detail-text",children:[Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"Native Name: "}),s.nativeName]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"Population: "}),s.population.toLocaleString()]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"Region: "}),s.region]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"Sub Region: "}),s.subregion]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"Capital: "}),s.capital]})]}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"Top Level Domain: "}),s.topLevelDomain[0]]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"Currencies: "}),s.currencies?s.currencies.map((function(e){return e.name})).join(", "):""]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"Languages: "}),s.languages.map((function(e){return e.name})).join(", ")]})]})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"Border Countries: "}),s.borders?s.borders.map((function(e){return Object(O.jsx)(g,{countryCode:e,countryCodeAndName:n},e)})):""]})]})]})]})};var y=function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),i=Object(d.a)(r,2),o=i[0],h=i[1],x=Object(c.useState)("All"),f=Object(d.a)(x,2),m=f[0],g=f[1],y=Object(c.useState)([]),C=Object(d.a)(y,2),S=C[0],k=C[1],A=Object(c.useState)({}),H=Object(d.a)(A,2),T=H[0],w=H[1],E=Object(c.useState)(!0),L=Object(d.a)(E,2),I=L[0],R=L[1],D=Object(c.useState)(!1),J=Object(d.a)(D,2),_=J[0],B=J[1];Object(c.useEffect)((function(){!function(){var e=JSON.parse(sessionStorage.getItem("darkmodeSetting"));e&&B(e)}()}),[]),Object(c.useEffect)((function(){sessionStorage.setItem("darkmodeSetting",JSON.stringify(_))}),[_]);var F=function(e){a(e.target.value)},M=function(){a("")},P=function(e){g(e.target.value)};Object(c.useEffect)((function(){!function(){var e=new RegExp("".concat(n),"i");k("All"===m?o.filter((function(t){return e.test(t.name)})):o.filter((function(t){return e.test(t.name)&&t.region===m})))}()}),[o,n,m]);var U=function(){var e=Object(j.a)(l.a.mark((function e(){var t,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://restcountries.com/v2/all?fields=flags,alpha3Code,name,population,region,capital");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,c={},n.forEach((function(e){return c[e.alpha3Code]=e.name})),w(c),h(n),R(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){U()}),[]),Object(O.jsx)("div",{className:"App ".concat(_?"darkmode":""),children:Object(O.jsxs)(u.a,{children:[Object(O.jsx)(p,{darkmodeHandler:function(){B((function(e){return!e}))}}),Object(O.jsx)(b.a,{path:"/",exact:!0,render:function(e){return Object(O.jsx)(v,Object(s.a)(Object(s.a)({},e),{},{countries:S,loading:I,inputText:n,inputTextHandler:F,clearInputTextHandler:M,filterOptionHandler:P}))}}),Object(O.jsx)(b.a,{path:"/country-detail/:code",render:function(e){return Object(O.jsx)(N,Object(s.a)(Object(s.a)({},e),{},{countryCodeAndName:T}))}})]})})};i.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(y,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.4f44ca8b.chunk.js.map